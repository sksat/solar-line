<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>Orbital Animation Example</title>
<style>
body { background: #0d1117; color: #c9d1d9; font-family: sans-serif; max-width: 900px; margin: 0 auto; padding: 20px; }
.card { background: #161b22; border: 1px solid #30363d; border-radius: 6px; padding: 16px; margin: 16px 0; }
.orbital-diagram { margin: 16px 0; }
.orbital-diagram svg { display: block; margin: 0 auto; }
.anim-controls { margin: 8px 0; display: flex; gap: 8px; align-items: center; }
.anim-controls button { background: #21262d; color: #c9d1d9; border: 1px solid #30363d; padding: 4px 12px; cursor: pointer; border-radius: 4px; }
.anim-controls button:hover { background: #30363d; }
.anim-controls input[type="range"] { flex: 1; }
.anim-time { font-family: monospace; min-width: 80px; }
h2 { color: #58a6ff; }
</style>
</head>
<body>
<h1>Orbital Animation Example</h1>

<h2>Animated Brachistochrone Transfer</h2>
<div class="card">
<p>A simple 2-body transfer with animation controls. The ship moves along the transfer arc and bodies orbit.</p>
<div class="orbital-diagram" id="test-diagram" data-animated="true">
<svg viewBox="-250 -250 500 500" width="500" height="500">
<defs>
<radialGradient id="sun-glow">
<stop offset="0%" stop-color="#ffdd00" stop-opacity="0.5"/>
<stop offset="100%" stop-color="#ffdd00" stop-opacity="0"/>
</radialGradient>
</defs>
<g transform="translate(0,0)">
  <!-- Central body -->
  <circle cx="0" cy="0" r="8" fill="#ffdd00"/>
  <text x="0" y="20" fill="#ffdd00" font-size="11" text-anchor="middle">太陽</text>

  <!-- Inner orbit (Mars-like) -->
  <circle cx="0" cy="0" r="80" fill="none" stroke="#ff4444" stroke-width="1" stroke-opacity="0.4" stroke-dasharray="4 2"/>
  <circle cx="80" cy="0" r="4" fill="#ff4444" data-orbit-id="inner"/>
  <text x="92" y="0" fill="#ff4444" font-size="10" text-anchor="start" data-orbit-id="inner">内惑星</text>

  <!-- Outer orbit (Jupiter-like) -->
  <circle cx="0" cy="0" r="180" fill="none" stroke="#f0883e" stroke-width="1" stroke-opacity="0.4" stroke-dasharray="4 2"/>
  <circle cx="-127" cy="-127.4" r="4" fill="#f0883e" data-orbit-id="outer"/>
  <text x="-139" y="-139.4" fill="#f0883e" font-size="10" text-anchor="start" data-orbit-id="outer">外惑星</text>

  <!-- Transfer arc (brachistochrone) -->
  <path d="M 80,0 Q 150,-100 -127,-127.4" fill="none" stroke="#58a6ff" stroke-width="2"
        data-transfer-path="inner-outer-0"
        data-start-time="0"
        data-end-time="259200"
        data-style="brachistochrone"/>
</g>
</svg>
<!-- Animation data (read by orbital-animation.js) -->
<script type="application/json" class="orbital-animation-data">
{
  "durationSeconds": 259200,
  "orbits": [
    {"id": "inner", "initialAngle": 0, "meanMotion": 0.0000034, "radiusPx": 80, "color": "#ff4444"},
    {"id": "outer", "initialAngle": 2.2782, "meanMotion": 0.0000003, "radiusPx": 180, "color": "#f0883e"}
  ],
  "transfers": [
    {"pathId": "inner-outer-0", "fromOrbitId": "inner", "toOrbitId": "outer", "startTime": 0, "endTime": 259200, "color": "#58a6ff", "style": "brachistochrone", "burns": [
      {"startTime": 0, "endTime": 129600, "type": "acceleration"},
      {"startTime": 129600, "endTime": 259200, "type": "deceleration"}
    ]}
  ]
}
</script>
<div class="orbital-animation-controls" role="group" aria-label="アニメーション操作">
  <button class="anim-play" title="再生/一時停止" aria-label="再生">▶</button>
  <input type="range" class="anim-slider" min="0" max="1000" value="0" step="1" aria-label="アニメーション時間" aria-valuemin="0" aria-valuemax="1000" aria-valuenow="0">
  <span class="time-display" aria-live="polite">0h</span>
</div>
</div>
</div>

<h2>Static Orbital Diagram (No Animation)</h2>
<div class="card">
<div class="orbital-diagram" id="static-diagram">
<svg viewBox="-250 -250 500 500" width="500" height="500">
<g transform="translate(0,0)">
  <circle cx="0" cy="0" r="8" fill="#ffdd00"/>
  <text x="0" y="20" fill="#ffdd00" font-size="11" text-anchor="middle">太陽</text>
  <circle cx="0" cy="0" r="100" fill="none" stroke="#3fb950" stroke-width="1" stroke-opacity="0.4"/>
  <circle cx="0" cy="-100" r="4" fill="#3fb950"/>
  <text x="0" y="-112" fill="#3fb950" font-size="10" text-anchor="middle">地球</text>
  <circle cx="0" cy="0" r="150" fill="none" stroke="#ff4444" stroke-width="1" stroke-opacity="0.4"/>
  <circle cx="150" cy="0" r="4" fill="#ff4444"/>
  <text x="162" y="0" fill="#ff4444" font-size="10" text-anchor="start">火星</text>
</g>
</svg>
</div>
</div>

<script src="../src/orbital-animation.js"></script>
</body>
</html>
