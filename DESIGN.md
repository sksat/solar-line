# SOLAR LINE 考察

SOLAR LINE はゆえぴこ氏が制作・公開している『良いソフトウェアトーク劇場』の SF シリーズ長編。

ニコニコ: https://www.nicovideo.jp/user/5844196/series/531506
YouTube: https://www.youtube.com/playlist?list=PLsrZ6S47a4FuZHMV5_F6ePsOd3AZ5h_xX

このシリーズでは、太陽系内を宇宙船で駆け巡る描写がたくさんある。この描写では、ΔV など軌道力学的な要素が多くある。
この描写の妥当性を考察すると共に、妥当な場合はどのような条件（適切な天体位置になる時刻、各話各点火描写前の軌道など）であれば描写が成立するかをできるだけ調査するのがこのリポジトリの目的。

調査結果はその問題の大小を問わず、なんらかの形で GitHub Pages から見られるようにする。

GitHub Pages にあるべきものは例えば以下のようなもの
- 各調査に紐付いた Claude Code session のログ
- 各軌道遷移ごとおよび全話での軌道遷移調査レポート。インタラクティブな再現ができるとなおよい。

調査に当たっては、以下のような基盤を整えて進めるとよい。
- Claude Code session log 収集 + Web page 化
- 各話の動画内容および YouTube などにある字幕データの収集スクリプト
  - 収集した生データは gitignore しておくこと
  - ニコニコ動画のコメントは字幕ではないことに留意すること
  - 各レポートでは、適宜必要なものの引用をしてよい。ただし引用の要件を満たすこと。
  - 台詞については、どのキャラクターがいつどんな発言をしたかが重要になってくる。ここについては全自動で行うのではなく、Claude もしくは Codex が文脈を把握することで、正確な発話者を明らかにしておくこと。
    - 文脈や画面、曲調の変化から場面転換を把握すること
  - 台詞パイプラインは2フェーズに分離すること:
    - Phase 1（台詞抽出）: 字幕から発言テキストとタイムスタンプを抽出する。自動化可。出力: `epXX_lines.json`
    - Phase 2（話者判定）: 抽出された台詞に対し、文脈を元に話者を振り分ける。全自動にはしない。出力: `epXX_dialogue.json`
    - ファイルを分けることで、台詞抽出を再度走らせても話者判定の作業が無駄にならない
  - タイムスタンプの精度にも注意を払うこと。複数字幕トラックの照合や、動画内容との整合性確認を行う

解析には Typescript や Rust を用いること。Rust を用いた解析をした場合は、レポートには手元で動作させた解析結果を貼るか、wasm にビルドしてレポートでの再現が可能になるようにすること。
プログラムの開発には TDD のアプローチを取ること。期待する挙動などの仕様をできるだけテストという形で記述することで、プロジェクトが成長してもガードが敷かれるような状態を維持すること。
また、そのテストは CI で常に検証されるようにすること。適宜 CI status を確認することで、うっかり壊してしまったモノを直すことができる。

plan を決める時など、他の意見があるとより精度が高まるような場面では適宜 nice-friend にも相談しながら進める。

元の生データや信頼できる機関から取得したパラメータなど以外は常に信用できるものとは限らないことに気をつける。
そのため、そのレポートやコードがどんな仮定を置いていたかが非常に重要となる。適宜コメントなどを付記したり、付記できるような構造を作っておくこと。

分析において不整合が見つかった場合、単に「非現実的」と結論づけて終わるのではなく、複数のパラメータパターンを想定し、どのパラメータがどうであれば描写が成立するかを議論すること。例えば、質量が異なったら？推力が異なったら？軌道条件が異なったら？という形で可能性の空間を探索し、境界条件や妥当な解釈を提示する。

また、分析で用いるパラメータ（船の質量、推力、軌道半径等）にはすべて出典を明記すること。エピソードのタイムスタンプ、世界設定資料の URL などが根拠となる。出典のないパラメータは分析の信頼性を損なう。

このプロジェクトは Claude Code によるエージェントループによって開発を行う。
そのセッションだけですべての問題を解決しようとせず、問題を切り出してステップバイステップで問題を解決し、次のセッションへ問題解決を引き継ぐこと。
リポジトリ内のファイルへのメモや、commit message が重要となる。

current_tasks/ に現在取り組んでいるタスクとその状況をメモし、取り組んでいる中で新たに出てきたアイデアを ideas/ にメモしておくこと。これらのファイルは commit してよい。